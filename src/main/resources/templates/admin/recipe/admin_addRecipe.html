<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/admin_default}">
<head>
  <link rel="stylesheet" type="text/css" th:href="@{/admin/css/form.css}">
</head>
<th:block layout:fragment="customJs">
  <script th:src="@{/js/jquery-3.6.4.js}"></script>
  <script>
      $('#resetBtn').click(function (){
      history.go(-1);
    });
    $(function (){
      //alert('제이쿼리')
      function validationCheck(ele){
        let data = $(ele).val();
        let isValid = true;
        if(typeof data == 'undefined' || data == null || data == ''){
          isValid = false;
        }
        return isValid;
      }

      $('#submitBtn').click(function (){
        const addRecipeForm = $('#addRecipeForm');
        const inputGroup = $('#addRecipeForm input');
        let isSubmit = true;
        inputGroup.each(function (idx, item){
          isSubmit = validationCheck(item);
          if(!isSubmit) {
            let msg = $(item).parents('tr').find('label').text();
            alert(msg + '입력해주세요.');
            $(item).focus();
            return false;
          }
        });
        if (isSubmit) addRecipeForm.submit();
      });
    });
  </script>
</th:block>

<th:block layout:fragment="customContents">
  <form id="addRecipeForm" th:action="@{/admin/recipe/admin_addRecipe}" method="post">
    <table>
      <tbody>
      <tr>
        <td class="labeltd">
          <label for="recipeCode">레시피코드</label>
        </td>
        <td>
          <input type="text" id="recipeCode" name="recipeCode" placeholder="레시피코드를 입력해 주세요"/>
        </td>
      </tr>
      <tr>
        <td class="labeltd">
          <label for="recipeName">레시피이름</label>
        </td>
        <td colspan="2">
          <input type="text" id="recipeName" name="recipeName" placeholder="레시피이름을 입력해 주세요"/>
        </td>
      </tr>
      <tr>
        <td class="labeltd">
          <label for="recipeCategoryCode">레시피카테고리코드</label>
        </td>
        <td colspan="2">
          <input type="text" id="recipeCategoryCode" name="recipeCategoryCode" placeholder="레시피카테고리를 입력해 주세요" />
        </td>
      <tr>
        <td class="labeltd">
          <label for="memberId">레시피등록아이디</label>
        </td>
        <td colspan="2">
          <input type="text" id="memberId" name="memberId" placeholder="레시피등록아이디를 입력해 주세요" />
        </td>
      <tr>
        <td class="labeltd">
          <label for="recipeCal">레시피칼로리</label>
        </td>
        <td colspan="2">
          <input type="text" id="recipeCal" name="recipeCal" placeholder="레시피 칼로리를 입력해 주세요" />
        </td>
      </tr>
      <tr>
        <td class="labeltd">
          <label for="recipeQuantity">음식의 양</label>
        </td>
        <td colspan="2">
          <input type="text" id="recipeQuantity" name="recipeQuantity" placeholder="음식의 양을 입력해 주세요" />
        </td>
      </tr>
      <tr>
        <td class="labeltd">
          <label for="regDate">등록일자</label>
        </td>
        <td colspan="2">
          <input type="text" id="regDate" name="regDate" />
        </td>
      </tr>
      <tr>
        <td class="labeltd">
          <label for="imageUrl">레시피 사진</label>
        </td>
        <td colspan="2">
          <input type="text" id="imageUrl" name="imageUrl" placeholder="레시피 사진을 입력해 주세요" />
        </td>
      </tr>
      <tr>
        <td colspan="3">
          <button type="button" id="submitBtn">레시피등록</button>
          <button type="button" id="resetBtn">등록취소</button>
        </td>
      </tr>
      </tbody>
    </table>
  </form>

</th:block>
</html>